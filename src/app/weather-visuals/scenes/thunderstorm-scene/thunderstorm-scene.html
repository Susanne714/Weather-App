<div class="thunderstorm-bg" [ngClass]="{'night-bg': isNight}">
    <app-night-scene *ngIf="isNight"></app-night-scene>
    <div class="lightning-box">

        <svg class="lightning-left" width="100%" height="100%" viewBox="0 0 755 642" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs><filter id="glow"><feGaussianBlur stdDeviation="4" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
            <path stroke-width="4"fill="none"filter="url(#glow)" d="M753 1L728.073 32.6387C727.378 33.5205 727 34.6104 727 35.7331V57.7946C727 59.1996 726.409 60.5397 725.371 61.487L705.629 79.513C704.591 80.4603 704 81.8004 704 83.2054V102.169C704 103.925 703.079 105.553 701.572 106.457L659 132M659 132L667.126 149.064C668.2 151.32 667.444 154.022 665.356 155.393L602.681 196.553C602.23 196.849 601.734 197.07 601.212 197.208L532.233 215.411C530.816 215.785 529.635 216.761 529.001 218.082L518 241M659 132H640.519C638.934 132 637.444 132.751 636.501 134.024L619.499 156.976C618.556 158.249 617.066 159 615.481 159H596.362C595.47 159 594.595 159.238 593.826 159.69L581.033 167.216C579.214 168.286 576.918 168.099 575.297 166.747L568.512 161.093C566.986 159.822 564.852 159.574 563.075 160.462L549.137 167.431C547.254 168.373 544.983 168.034 543.457 166.584L529.305 153.14C527.433 151.361 524.513 151.301 522.569 153.002L511.414 162.763C510.502 163.56 509.332 164 508.121 164H499.403C497.884 164 496.448 164.69 495.499 165.877L485 179M518 241L477.081 255.274C475.755 255.737 474.685 256.735 474.132 258.026L461.299 287.97C460.511 289.808 458.703 291 456.703 291H432M518 241L504.45 269.003C503.572 270.818 503.87 272.983 505.206 274.494L524.323 296.104C525.377 297.296 525.801 298.919 525.465 300.474L518 335M432 291V326.096C432 328.39 430.439 330.39 428.213 330.947L389.12 340.72C388.383 340.904 387.698 341.254 387.116 341.742L364.392 360.831C363.493 361.586 362.888 362.634 362.684 363.79L357.729 391.869C357.307 394.258 355.231 396 352.805 396H326.814C325.067 396 323.446 396.912 322.54 398.405L315.5 410M432 291H409.41C408.488 291 407.584 290.745 406.798 290.263L378.671 273.024C377.597 272.366 376.314 272.137 375.078 272.384L359.5 275.5M1 600L43.8106 580.022C45.1937 579.376 46.7959 579.398 48.161 580.081L59 585.5M59 585.5L70.1052 591.053C71.3163 591.658 72.7212 591.747 73.9987 591.298L108.244 579.266C108.745 579.09 109.214 578.835 109.635 578.511L134.02 559.754C134.664 559.259 135.418 558.928 136.219 558.79L185.751 550.25C189.229 549.65 191.008 545.733 189.17 542.719L171.205 513.256C169.553 510.546 170.811 507.003 173.802 505.941L197.251 497.62C198.38 497.22 199.327 496.428 199.921 495.389L207 483M59 585.5L39.7293 598.806C38.6233 599.57 37.8713 600.746 37.6429 602.071L33.439 626.454C33.1636 628.051 32.1311 629.416 30.669 630.115L10 640M207 483L213.56 471.519C214.451 469.961 216.107 469 217.902 469H238.615C240.659 469 242.498 467.755 243.257 465.857L251.169 446.077C251.698 444.756 252.765 443.722 254.103 443.235L305.347 424.601C306.417 424.212 307.322 423.47 307.913 422.497L315.5 410M207 483L190.477 476.043C188.93 475.392 187.16 475.56 185.764 476.491L178.068 481.621C176.765 482.49 175.131 482.698 173.652 482.183L156.768 476.311C154.564 475.544 152.122 476.404 150.886 478.383L150.484 479.026C149.087 481.261 146.194 482.028 143.873 480.778L125.404 470.833C123.399 469.753 120.919 470.165 119.369 471.833L109.437 482.529C109.147 482.842 108.818 483.116 108.458 483.345L87 497M315.5 410L323.274 422.804C323.749 423.586 324 424.484 324 425.399V436.14C324 437.912 323.062 439.552 321.535 440.45L320.164 441.256C317.65 442.735 316.931 446.044 318.603 448.433L331.576 466.966C332.473 468.247 332.719 469.875 332.24 471.364L324.546 495.301C324.193 496.4 323.471 497.342 322.502 497.969L307 508M307 508L300 532M307 508L324 532M287 298L313.69 291.445C314.857 291.158 315.882 290.46 316.577 289.479L322.505 281.11C323.443 279.787 324.964 279 326.586 279H341.505C341.834 279 342.163 278.967 342.485 278.903L359.5 275.5M287 298L298.015 314.099C299.206 315.839 299.177 318.14 297.942 319.85L288.839 332.453C287.715 334.01 285.798 334.785 283.907 334.448L260.499 330.268C259.522 330.093 258.515 330.213 257.606 330.613L234 341L193.487 352.858C193.163 352.952 192.85 353.08 192.552 353.237L177.621 361.142C176.574 361.696 175.365 361.861 174.209 361.607L136.567 353.344C135.548 353.12 134.484 353.221 133.525 353.632L114 362M287 298L260.752 291.438C259.62 291.155 258.622 290.485 257.932 289.544L250.781 279.792C249.218 277.661 246.267 277.114 244.045 278.543L237.651 282.653C235.557 283.999 232.791 283.6 231.163 281.715L217.51 265.906C216.03 264.192 213.582 263.687 211.545 264.675L183.53 278.258C182.538 278.739 181.733 279.535 181.239 280.521L177.652 287.697C176.67 289.66 174.523 290.754 172.357 290.393L140 285M359.5 275.5L348.696 257.181C348.24 256.408 347.585 255.772 346.799 255.339L329.774 245.976C328.636 245.35 327.786 244.306 327.405 243.065L325.619 237.263C324.751 234.442 321.642 232.983 318.917 234.118L313.408 236.413C312.49 236.796 311.479 236.896 310.504 236.701L288.915 232.383C287.683 232.137 286.59 231.436 285.852 230.421L274.854 215.3C272.914 212.632 268.967 212.541 266.906 215.117L259 225L248.749 236.183C248.255 236.721 247.886 237.361 247.666 238.056L242 256" stroke="white" stroke-width="2.7"/>
        </svg>

        <svg class="lightning-right" width="100%" height="100%" viewBox="0 0 628 777" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs><filter id="glow"><feGaussianBlur stdDeviation="4" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
            <path stroke-width="4"fill="none"filter="url(#glow)" d="M170 2L217.114 39.4987C218.306 40.4473 219 41.8875 219 43.4108V64.7451C219 65.5689 219.204 66.38 219.593 67.1062L233.08 92.2834C233.672 93.3874 233.827 94.6732 233.516 95.8864L224 133L211 172M193 264L182.984 240.325C182.365 238.863 182.478 237.194 183.287 235.828L197.727 211.46C197.909 211.154 198.057 210.83 198.169 210.492L211 172M193 264L186.343 311.549C186.127 313.093 185.202 314.449 183.843 315.213L171.734 322.025C170.62 322.651 169.309 322.827 168.07 322.517L154.492 319.123C151.957 318.489 149.362 319.914 148.536 322.393L145.651 331.046C144.751 333.746 141.781 335.152 139.122 334.135L119.517 326.639C115.636 325.155 111.744 328.777 112.945 332.754L118 349.5M193 264L214.464 309.855C214.816 310.606 215.349 311.259 216.016 311.753L240.49 329.881C241.463 330.602 242.142 331.653 242.399 332.837L246.57 352.024C246.846 353.291 247.603 354.402 248.683 355.122L280 376M394 776L380.49 759.788C379.545 758.655 379.15 757.161 379.409 755.708L383.296 733.942C383.708 731.638 382.466 729.357 380.308 728.452L354.42 717.595C353.495 717.207 352.708 716.55 352.161 715.709L341.072 698.649C340.383 697.589 339.318 696.83 338.092 696.523L318.531 691.633C316.945 691.236 315.653 690.09 315.071 688.562L309.227 673.22C308.488 671.281 306.629 670 304.554 670H281.688C280.593 670 279.528 669.641 278.658 668.977L259.686 654.522C259.232 654.177 258.722 653.911 258.179 653.737L235.638 646.524C234.577 646.185 233.659 645.5 233.031 644.579L219.732 625.074C219.252 624.37 218.6 623.8 217.837 623.419L193.59 611.295C193.198 611.099 192.783 610.956 192.354 610.868L152.066 602.646C148.391 601.896 146.82 597.517 149.18 594.601L159.523 581.825C160.459 580.669 160.831 579.156 160.54 577.698L155.27 551.348C155.093 550.466 155.158 549.552 155.458 548.704L160.391 534.726C160.784 533.611 160.77 532.394 160.351 531.289L150.862 506.274C150.318 504.838 149.144 503.733 147.679 503.275L118.821 494.256C118.278 494.087 117.767 493.826 117.312 493.484L94.6491 476.487C94.2192 476.164 93.844 475.775 93.5382 475.333L85 463M211 172L218.062 189.656C218.652 191.13 219.907 192.236 221.443 192.637L240.043 197.489C241.298 197.817 242.377 198.62 243.052 199.728L254.872 219.147C255.592 220.329 256.769 221.16 258.123 221.442L278.403 225.667C279.441 225.883 280.383 226.424 281.094 227.211L305.94 254.719C307.203 256.118 309.147 256.687 310.966 256.191L324.245 252.57C327.246 251.751 330.258 253.843 330.54 256.941L332 273M363 331L334.949 296.178C334.33 295.41 333.952 294.476 333.863 293.494L332 273M332 273L349.061 265.688C351.328 264.717 353.964 265.543 355.271 267.634L361.981 278.37C362.637 279.419 363.658 280.188 364.848 280.528L384 286M280 376L304.32 371.657C306.502 371.267 308.68 372.361 309.672 374.343L314.206 383.413C315.254 385.509 317.618 386.596 319.891 386.027L335.164 382.209C338.991 381.252 342.367 384.898 341.12 388.641L340.574 390.277C340.203 391.39 340.236 392.598 340.666 393.69L352.458 423.624C352.812 424.522 353.418 425.299 354.204 425.86L372.808 439.148C373.586 439.704 374.189 440.472 374.544 441.36L382.414 461.035C383.327 463.318 385.766 464.599 388.164 464.054L399.892 461.388C403.021 460.677 406 463.055 406 466.264V471C406 473.761 408.239 476 411 476H431.221C432.372 476 433.487 476.397 434.379 477.124L460 498M280 376L314.757 415.585C315.558 416.497 316 417.67 316 418.884V433.029C316 434.296 316.481 435.515 317.345 436.441L327.43 447.246C328.951 448.877 329.209 451.318 328.062 453.23L322.377 462.705C321.517 464.139 321.43 465.907 322.146 467.418L328.756 481.373C329.525 482.997 329.364 484.909 328.333 486.381L317.005 502.565C316.354 503.494 315.407 504.174 314.319 504.494L299 509M460 498L482.246 490.3C484.444 489.539 486.876 490.394 488.114 492.364L505.944 520.73C507.155 522.656 509.514 523.522 511.683 522.837L522.269 519.494C524.888 518.667 527.683 520.107 528.531 522.719L532.189 534M460 498L453.52 516.515C453.181 517.482 453.148 518.529 453.424 519.515L459.649 541.745C459.879 542.568 459.895 543.436 459.694 544.267L453 572M564 560L541.872 555.574C540.098 555.22 538.654 553.935 538.096 552.214L537.378 550M537.378 550L528.111 569.646C527.415 571.121 527.482 572.844 528.291 574.26L538.341 591.847C538.773 592.603 539 593.458 539 594.328V615.648C539 616.534 539.235 617.403 539.681 618.168L553 641M537.378 550L532.189 534M532.189 534L550.93 533.099C552.255 533.036 553.552 533.501 554.533 534.394L561.648 540.862C563.083 542.167 565.144 542.523 566.934 541.777L586.245 533.731C587.375 533.26 588.64 533.221 589.798 533.62L615.134 542.357C616.333 542.77 617.33 543.623 617.923 544.744L626 560M128 410.5L130.893 407.813C133.082 405.781 133.013 402.296 130.745 400.353L123.501 394.144C121.983 392.843 121.386 390.764 121.982 388.856L125.542 377.466C125.84 376.511 125.845 375.488 125.556 374.53L118 349.5M128 410.5L122.439 415.664C121.514 416.523 120.299 417 119.037 417H113.555C111.426 417 109.531 418.347 108.832 420.357L102.762 437.809C102.279 439.198 101.208 440.305 99.8346 440.833L81.9365 447.717C78.9132 448.88 77.7766 452.566 79.6204 455.23L85 463M128 410.5L134.082 423.098C134.669 424.314 135.723 425.241 137.003 425.668L146.23 428.743C146.74 428.913 147.219 429.164 147.649 429.487L155 435L167.774 443.516C169.164 444.443 170 446.004 170 447.676V448.459C170 452.836 175.226 455.1 178.42 452.107L180.967 449.719C183.449 447.392 187.479 448.169 188.918 451.252L191.653 457.114C192.475 458.875 194.242 460 196.184 460H214.788C217.222 460 219.302 461.752 219.716 464.15L223.284 484.85C223.698 487.248 225.778 489 228.212 489H229C231.761 489 234 491.239 234 494V522.099C234 523.324 234.449 524.506 235.263 525.421L242 533M85 463H71.794C70.0577 463 68.4457 463.901 67.5357 465.38L63.078 472.623C61.8608 474.601 59.4419 475.481 57.2386 474.746L52.6986 473.233C48.7513 471.917 45.0177 475.717 46.4025 479.64L49 487M94 518L86.9365 510.054C86.3332 509.375 86 508.498 86 507.59V507.59C86 504.201 81.8285 502.589 79.5488 505.096L78.5575 506.187C77.0989 507.791 74.6706 508.05 72.9062 506.79L70.3039 504.931C69.4559 504.326 68.4398 504 67.3977 504H58.5376C56.4177 504 54.5282 502.663 53.8226 500.664L49 487M49 487L37.7639 492.618C36.07 493.465 35 495.196 35 497.09V499C35 501.761 32.7614 504 30 504H15.0902C13.1963 504 11.465 505.07 10.618 506.764L2 524M118 349.5L96.3695 353.556C94.8723 353.836 93.5847 354.784 92.872 356.131L85.3518 370.336C85.1186 370.776 84.8208 371.179 84.4684 371.532L70.4645 385.536C69.5268 386.473 69 387.745 69 389.071V404" stroke="white" stroke-width="3"/>
        </svg>

        @if(showRain){<app-rain></app-rain>}

    </div>
</div>
